<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="ja" xml:lang="ja">
	<head>
		<title>YouTubeリスト マージ再生</title>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<!--▼A Use the Google AJAX Libraries API: http://code.google.com/apis/ajaxlibs/ 
				SWFObject:http://code.google.com/intl/ja/apis/ajaxlibs/documentation/index.html#swfobject -->

    <script src="http://www.google.com/jsapi"></script>
    <script>
      google.load("swfobject", "2.1");
    </script>

		<script type="text/javascript" src="jquery.js"></script>
		<script type="text/javascript" src="ylistrandom.js"></script>
		<!-- <script type="text/javascript" src="http://gdata.youtube.com/feeds/api/playlists/A43739755D0CD2E2?max-results=50&alt=json-in-script&callback=getYoutubePlaylist"></script> -->
		<!-- <script type="text/javascript" src="http://gdata.youtube.com/feeds/api/playlists/PLRBIThknUR5llT1e6bfmf5trUu9a2Q_4L?alt=json-in-script&callback=getYoutubePlaylist"></script> -->
		<!-- <script type="text/javascript" src="http://gdata.youtube.com/feeds/api/users/HpkUDLO9rFToIO0jM1lYtA/playlists?v=2&alt=json-in-script&callback=getYoutubePlaylist"></script> -->
		<script type="text/javascript" src="player.js"></script>

		<script type="text/javascript">
			$.ajax({
			type: "GET",
			url: "http://gdata.youtube.com/feeds/api/users/HpkUDLO9rFToIO0jM1lYtA/playlists?v=2&alt=json-in-script&callback=getYoutubePlaylist",
			async: false,
			error: function(XMLHttpRequest,textStatus,errorThrown){
			document.write(textStatus); console.log("GET error"); }
			});
		</script>

	</head>

	<body onload="setTimeout('play1()',3000)"><!--▼E 動画の起動（コントロール）-->

		<!--▼C 動画埋め込み場所-->
    <div id="ytapiplayer1">
      You need Flash player 8+ and JavaScript enabled to view this video.
    </div>
		
	<br/>
	
	<!-- 次の曲 -->
	<input type="image" alt="" width="24" height="24" src="img/forward.png" onClick="skip()"/>

	<!-- PlaylistSet追加ボタン -->
	<input type="button" name="add_playlistset" value="Add PlaylistSet"
				 onClick="window.open('input_window.html','input form','width=400, height=300, left=0, top=100 ');"/>

		

	<form name="playlist_set_selection">

		<input type="radio" name="playlist_set" value="not_saved" checked="checked"/>Playlist Set Not Saved<br/>
		<!-- チェックリスト作成 -->
		<script type="text/javascript">
			var playlists = JSON.parse(localStorage['playlists']);
			for(var list_idx = 0; list_idx < playlists.length; ++list_idx){
			  document.write('&nbsp;&nbsp;&nbsp;&nbsp;<input type="checkbox" value="値1" checked="checked"/>');
			  document.write(playlists[list_idx].title + " " + playlists[list_idx].url + "<br/>");
      }
		</script>

		<!-- ラジオボタン作成 -->
		<script type="text/javascript">
			var playlist_sets = [];
			try{
			playlist_sets = JSON.parse(localStorage['playlist_sets']);
			}catch(e){
			}

			for(var list_idx = 0; list_idx < playlist_sets.length; ++list_idx){
			  document.write('<input type="radio" name="playlist_set" value="saved"/>');
			  document.write(playlist_sets[list_idx].title + "<br/>");
      }
		</script>
  </form>

  <!-- テスト -->
	<input type="button" name="test" value="console playlist sets" onClick="test()"/>


	<!--▼D 動画埋め込み SWFObject-->
	<script type="text/javascript">
		var params = { allowScriptAccess: "always" };
		var atts = { id: "myytplayer1" };

		var videos = getCheckedPlaylistSetVideos();
		video_url = videos[Math.floor(Math.random()*videos.length)].url;
		video_title = videos[Math.floor(Math.random()*videos.length)].title;
		<!-- swfobject.embedSWF(video_url+"&enablejsapi=1&autoplay=1&playerapiid=ytplayer1","ytapiplayer1", "480", "295", "8", null, null, params, atts); -->
		swfobject.embedSWF(video_url+"&enablejsapi=1&autoplay=1&playerapiid=ytplayer1","ytapiplayer1", "600", "400", "8", null, null, params, atts);

	</script>
</body>

</html>
	
